# =============================================================================
# AUTHENTICATION - WorkOS (Required)
# =============================================================================
# Sign up at: https://workos.com/
WORKOS_API_KEY=sk_example_123456789

# ⚠️ IMPORTANT: Also add this to Convex Dashboard → Environment Variables
WORKOS_CLIENT_ID=client_123456789

# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
WORKOS_COOKIE_PASSWORD=
NEXT_PUBLIC_WORKOS_REDIRECT_URI=http://localhost:3000/callback

# =============================================================================
# CONVEX DATABASE (Required)
# =============================================================================
# Run `npx convex dev` first to generate these values
CONVEX_DEPLOYMENT=dev:your-deployment-name
NEXT_PUBLIC_CONVEX_URL=https://your-deployment.convex.cloud

# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# ⚠️ IMPORTANT: Also add this to Convex Dashboard → Environment Variables
CONVEX_SERVICE_ROLE_KEY="replace-with-a-32+char-random-secret"

# =============================================================================
# S3 FILE STORAGE (Optional - Feature Flag Controlled)
# =============================================================================
# AWS S3 credentials for file storage (only needed if S3 is enabled)
# Sign up at: https://aws.amazon.com/s3/
# ⚠️ IMPORTANT: If using S3, also add these to Convex Dashboard → Environment Variables
AWS_S3_ACCESS_KEY_ID=
AWS_S3_SECRET_ACCESS_KEY=
AWS_S3_REGION=us-east-1
AWS_S3_BUCKET_NAME=

# Optional S3 configuration (defaults shown, uncomment to override)
# S3_URL_LIFETIME_SECONDS=3600
# S3_URL_EXPIRATION_BUFFER_SECONDS=300

# =============================================================================
# AI PROVIDERS (Required)
# =============================================================================
# OpenRouter - Get key at: https://openrouter.ai/
OPENROUTER_API_KEY=

# OpenAI - Get key at: https://platform.openai.com/
OPENAI_API_KEY=

# XAI (Grok) - Get key at: https://x.ai/
XAI_API_KEY=

# =============================================================================
# CODE EXECUTION - E2B (Required for Agent Mode)
# =============================================================================
# Sign up at: https://e2b.dev/
E2B_API_KEY=
E2B_TEMPLATE=terminal-agent-sandbox

# =============================================================================
# LOCAL SANDBOX (Optional - Alternative to E2B)
# =============================================================================
# Secret for signing session tokens (HMAC-SHA256)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# ⚠️ IMPORTANT: Set this in Convex Dashboard → Environment Variables
#               OR run: npx convex env set LOCAL_SANDBOX_SESSION_SECRET <value>
# LOCAL_SANDBOX_SESSION_SECRET=

# =============================================================================
# WEB SEARCH & SCRAPING (Optional)
# =============================================================================
# Web Search API - https://docs.perplexity.ai/guides/search-quickstart
# PERPLEXITY_API_KEY=

# Jina AI - URL content extraction: https://jina.ai/reader
# JINA_API_KEY=

# =============================================================================
# REDIS (Optional - for stream resumption)
# =============================================================================
# ⚠️ IMPORTANT: Also add this to Convex Dashboard → Environment Variables
# REDIS_URL=redis://localhost:6379

# =============================================================================
# RATE LIMITING (Optional - Upstash Redis)
# =============================================================================
# Sign up at: https://upstash.com/
# UPSTASH_REDIS_REST_URL=https://your-endpoint.upstash.io
# UPSTASH_REDIS_REST_TOKEN=

# =============================================================================
# FEATURE FLAGS (Optional)
# =============================================================================
# Cross-tab token sharing - coordinates auth token refresh across browser tabs
# to prevent WorkOS rate limits. Value is rollout percentage (0-100).
# NEXT_PUBLIC_FF_CROSS_TAB_TOKEN_SHARING=0

# Context usage indicator - shows token usage breakdown in chat input
# NEXT_PUBLIC_ENABLE_CONTEXT_USAGE=true

# =============================================================================
# OBSERVABILITY (Optional - Axiom)
# =============================================================================
# Sign up at: https://axiom.co/
# AXIOM_TOKEN=xaat-your-token
# AXIOM_DATASET=your-dataset-name

# =============================================================================
# ANALYTICS (Optional - PostHog)
# =============================================================================
# Sign up at: https://posthog.com/
# NEXT_PUBLIC_POSTHOG_KEY=phc_
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
# NEXT_PUBLIC_POSTHOG_TRACK_FREE_USERS=true

# =============================================================================
# PAYMENTS (Optional - Stripe)
# =============================================================================
# Sign up at: https://stripe.com/
# ⚠️ IMPORTANT: If using Stripe, also add these to Convex Dashboard → Environment Variables
# STRIPE_API_KEY=sk_test_
# STRIPE_EXTRA_USAGE_WEBHOOK_SECRET=

# =============================================================================
# TRIGGER.DEV (Required for Agent streaming - non-temporary chats)
# =============================================================================
# Get your secret key and project ID at: https://cloud.trigger.dev/
TRIGGER_SECRET_KEY=tr_dev_...
TRIGGER_PROJECT=proj_xxxxx

# =============================================================================
# BASE URL (Required)
# =============================================================================
NEXT_PUBLIC_BASE_URL=http://localhost:3000